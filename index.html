<html>
<head>
  <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.css">
  <script src="/assets/jquery-1.9.1.js" type="text/javascript"></script>
  <script src="/assets/bootstrap/js/bootstrap.js" type="text/javascript"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io.connect('http://localhost');

    socket.on('playerJoined', function (data) {
      console.log('playerJoined', data);
      $('#clicker').attr('data-id', data.playerId);
    });

    socket.on('clickUpdate', function(data) {
      console.log('clickUpdate', data, $('result', '#player-' + data.playerId));
      $('#result', '#player-' + data.playerId).html(data.clicks);
    });

    $(document).ready(function(){
      $('#clicker').on('click', function(evt){
        console.log('clicker');
        socket.emit('click', {playerId: $('#clicker').attr('data-id')});
      });
    });

  </script>
</head>

<body>
  <div class="container">
    <div class="row">
      <h1>Socket.io</h1>
      <button id="clicker" class="btn btn-primary">click</button>
      <ul id="player-list">
        <li id="player-1">Player 1: <span id="result">23</span></li>
        <li id="player-2">Player 2: <span id="result">43</span></li>
      </ul>
    </div>
  </div>

</body>

</html>